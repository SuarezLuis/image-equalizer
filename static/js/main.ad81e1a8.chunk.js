(this["webpackJsonpimage-equalizer"]=this["webpackJsonpimage-equalizer"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var i,a=n(0),r=n(1),c=n.n(r),o=n(16),d=n.n(o),u=n(17),l=n.n(u),h=(n(30),n(5)),s=n(3);n(31),n(32);!function(e){e.blue="#2e72b2",e.red="#ff6978",e.green="#8bb174",e.yellow="#fcaf58",e.brown="#bda79e"}(i||(i={}));var b=i,j=function(e){var t=e.buttonColor,n=e.text,i=e.onClick;return Object(a.jsx)(p,{buttonColor:t,onClick:i,children:n})},p=s.a.div.withConfig({displayName:"Button__ButtonWrapper",componentId:"pjch72-0"})(["display:inline-block;margin:10px;padding:5px 10px;border-radius:10px;user-select:none;cursor:pointer;background-color:",";color:",";"],(function(e){return e.buttonColor}),(function(e){var t=e.buttonColor;return t===b.blue||t===b.red||t===b.green?"white":"black"})),g=n(13),x=n.n(g),f=n(21),v=n(22),w=n.n(v);var O=function(e,t,n){var i=document.createElement("canvas"),a=e.naturalWidth/e.width,r=e.naturalHeight/e.height;return i.width=t.width*a,i.height=t.height*r,i.getContext("2d").drawImage(e,t.x*a,t.y*r,t.width*a,t.height*r,0,0,t.width*a,t.height*r),new Promise((function(e,t){i.toBlob((function(t){t.name=n,e(t)}),"image/jpeg",1)}))},m=function(e){var t=e.source,n=e.filename,i=e.ratioWidth,c=e.ratioHeight,o=Object(r.useState)({}),d=Object(h.a)(o,2),u=d[0],l=d[1],s=Object(r.useState)({naturalWidth:0,naturalHeight:0,width:0,height:0}),p=Object(h.a)(s,2),g=p[0],v=p[1],m=Object(r.useRef)(null);return Object(r.useEffect)((function(){l((function(e){var t=g.width,n=g.height,a=i/c,r={aspect:a,width:0,height:0,x:0,y:0};return i>c&&(t>n&&(r.width=t,r.height=t/a),t<n&&(r.width=t,r.height=t/a),t===n&&(r.width=t,r.height=n/a)),i<c&&(t>n&&(r.width=n*a,r.height=n),t<n&&(r.width=n*a,r.height=n),t===n&&(r.width=t*a,r.height=n)),i===c&&(t>n&&(r.width=n,r.height=n),t<n&&(r.width=t,r.height=t),t===n&&(r.width=t,r.height=n)),((r.width||0)>t||((null===r||void 0===r?void 0:r.height)||0)>n)&&(r.width=r.width?r.width/2:0,r.height=r.height?r.height/2:0),r}))}),[n,g.height,g.width,c,i]),Object(a.jsxs)(y,{children:[Object(a.jsx)(w.a,{src:t,crop:u,onChange:function(e){l(e)},onImageLoaded:function(e){var t=e.naturalWidth,n=e.naturalHeight,i=e.width,a=e.height;m.current=e,v({naturalWidth:t,naturalHeight:n,width:i,height:a})}}),Object(a.jsx)("div",{children:n}),Object(a.jsxs)("div",{children:["Original Image: ",g.naturalWidth," x"," ",g.naturalHeight]}),Object(a.jsxs)("div",{children:["Preview: ",g.width," x ",g.height," ;",((g.width||1)/(g.height||1)).toFixed(2)]}),Object(a.jsxs)("div",{children:["Selection: ",u.width," x ",u.height," ;"," ",(((null===u||void 0===u?void 0:u.width)||1)/((null===u||void 0===u?void 0:u.height)||1)).toFixed(2)]}),Object(a.jsx)(j,{text:"Download",buttonColor:b.green,onClick:Object(f.a)(x.a.mark((function e(){var t,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.current){e.next=8;break}return e.next=3,O(m.current,u,"equalized-".concat(n));case 3:t=e.sent,(i=document.createElement("a")).href=window.URL.createObjectURL(t),i.setAttribute("download","equalized-".concat(n)),i.click();case 8:case"end":return e.stop()}}),e)})))})]})},y=s.a.div.withConfig({displayName:"Picture__PictureWrapper",componentId:"i9xlz-0"})(["display:flex;flex-direction:column;width:30%;min-width:300px;align-items:center;margin:10px;border:solid 2px black;"]),C=function(e){var t=Object(r.useRef)(null),n=Object(r.useState)(null),i=Object(h.a)(n,2),c=i[0],o=i[1],d=Object(r.useState)([]),u=Object(h.a)(d,2),l=u[0],s=u[1],p=Object(r.useState)([]),g=Object(h.a)(p,2),x=g[0],f=g[1],v=Object(r.useState)([]),w=Object(h.a)(v,2),O=(w[0],w[1]),y=Object(r.useState)({}),C=Object(h.a)(y,2),L=(C[0],C[1]),W=Object(r.useState)(1),q=Object(h.a)(W,2),P=q[0],z=q[1],R=Object(r.useState)(1),N=Object(h.a)(R,2),E=N[0],H=N[1],F=Object(r.useState)(!1),U=Object(h.a)(F,2),B=U[0],D=U[1];return Object(a.jsxs)(k,{children:[Object(a.jsx)(I,{ref:t,multiple:!0,type:"file",onChange:function(e){L({}),o(e.currentTarget.files);var t=[],n=[],i=[];Array.from(e.currentTarget.files||[]).forEach((function(e){t.push(e),n.push(URL.createObjectURL(e));var a=new Image;a.src=URL.createObjectURL(e),a.onload=function(t){L((function(n){return n[e.name]={width:t.path[0].naturalWidth,height:t.path[0].naturalHeight},n}))},i.push(a)})),s(t),f(n),O(i)}}),Object(a.jsx)("div",{children:Object(a.jsx)(j,{buttonColor:b.yellow,text:"Upload Files",onClick:function(){var e;null===t||void 0===t||null===(e=t.current)||void 0===e||e.click()}})}),(null===c||void 0===c?void 0:c.length)?Object(a.jsxs)("div",{children:["Ratio:"," ",Object(a.jsxs)(A,{onChange:function(e){switch(e.target.value){case"1:1":z(1),H(1),D(!1);break;case"4:3":z(4),H(3),D(!1);break;case"16:10":z(16),H(10),D(!1);break;case"16:9":z(16),H(9),D(!1);break;case"2:1":z(2),H(1),D(!1);break;case"5:4":z(5),H(4),D(!1);break;case"3:2":z(3),H(2),D(!1);break;case"custom":D(!0)}},children:[Object(a.jsx)("option",{value:"1:1",children:"1:1 Square"}),Object(a.jsx)("option",{value:"4:3",children:"4:3 Standard"}),Object(a.jsx)("option",{value:"16:10",children:"16:10 Standard"}),Object(a.jsx)("option",{value:"16:9",children:"16:9 Standard"}),Object(a.jsx)("option",{value:"2:1",children:"2:1"}),Object(a.jsx)("option",{value:"5:4",children:"5:4"}),Object(a.jsx)("option",{value:"3:2",children:"3:2"}),Object(a.jsx)("option",{value:"custom",children:"Custom"})]}),(null===c||void 0===c?void 0:c.length)&&B?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_,{type:"number",min:"1",value:P,onChange:function(e){z(parseInt(e.target.value))}})," ",":"," ",Object(a.jsx)(_,{type:"number",min:"1",value:E,onChange:function(e){H(parseInt(e.target.value))}})]}):null]}):null,Object(a.jsx)(S,{children:null===l||void 0===l?void 0:l.map((function(e,t){return c?Object(a.jsx)(m,{source:x[t],filename:e.name,ratioWidth:P,ratioHeight:E}):null}))})]})},k=s.a.div.withConfig({displayName:"Authenticated__Wrapper",componentId:"dhq9j1-0"})(["display:flex;flex-direction:column;align-items:center;"]),I=s.a.input.withConfig({displayName:"Authenticated__HidenInput",componentId:"dhq9j1-1"})(["display:none;"]),S=s.a.div.withConfig({displayName:"Authenticated__Preview",componentId:"dhq9j1-2"})(["display:flex;flex-direction:row;justify-content:space-evenly;flex-wrap:wrap;"]),A=s.a.select.withConfig({displayName:"Authenticated__StyledSelect",componentId:"dhq9j1-3"})(["background-color:",";padding:10px;border-radius:10px;margin:10px 20px 20px 0;box-shadow:none;border:none;"],b.yellow),_=s.a.input.withConfig({displayName:"Authenticated__StyledInput",componentId:"dhq9j1-4"})(["background-color:",";padding:10px;border-radius:10px;margin:10px 0 20px 0;width:75px;box-shadow:none;border:none;"],b.yellow),L=n(8);function W(){var e=Object(L.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return W=function(){return e},e}var q=function(){return Object(a.jsx)(P,{children:"Please log in to use this app"})},P=s.a.div(W()),z=n(7);function R(){var e=Object(L.a)(["\n  background-color: white;\n  padding: 2px 10px;\n  border: 3px solid black;\n\n  margin: 0 10px;\n"]);return R=function(){return e},e}function N(){var e=Object(L.a)(["\n  display: flex;\n  width: 100%;\n  height: 50px;\n  background-color: ",";\n  align-items: center;\n  justify-content: space-between;\n"]);return N=function(){return e},e}var E=function(e){var t=e.userId;return Object(a.jsxs)(H,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(F,{children:"IMAGE EQUALIZER"})}),Object(a.jsx)("div",{children:t?Object(a.jsx)(j,{text:"Log out",buttonColor:b.red,onClick:function(){z.a.auth().signOut()}}):Object(a.jsx)(j,{text:"Login",buttonColor:b.yellow,onClick:function(){if(z.a){var e=new z.a.auth.GoogleAuthProvider;z.a.auth().signInWithPopup(e)}}})})]})},H=s.a.div(N(),b.blue),F=s.a.div(R());n(37);z.a.initializeApp({apiKey:"AIzaSyD5dtEhx880w1XCDKbPANXkIdLz26zv1ns",authDomain:"image-equalizer.firebaseapp.com",projectId:"image-equalizer",storageBucket:"image-equalizer.appspot.com",messagingSenderId:"270301991498",appId:"1:270301991498:web:75a09edc39e3ff65068cb3",measurementId:"G-W86X6PLR9V"});var U=z.a;var B=function(){var e=Object(r.useState)(""),t=Object(h.a)(e,2),n=t[0],i=t[1];return U.auth().onAuthStateChanged((function(e){i(null===e||void 0===e?void 0:e.uid)})),Object(a.jsxs)(D,{className:"App",children:[Object(a.jsx)(E,{userId:n}),n?Object(a.jsx)(C,{}):Object(a.jsx)(q,{})]})},D=s.a.div.withConfig({displayName:"App__AppWrapper",componentId:"sc-70ina-0"})(["background-color:",';height:100vh;width:100vw;overflow:auto;display:flex;flex-direction:column;font-family:"IBM Plex Mono",monospace;'],b.brown),M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),r(e),c(e)}))};n(39);l.a.config(),d.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(B,{})}),document.getElementById("root")),M()}},[[40,1,2]]]);
//# sourceMappingURL=main.ad81e1a8.chunk.js.map