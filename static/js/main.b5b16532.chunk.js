(this["webpackJsonpimage-standardize"]=this["webpackJsonpimage-standardize"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var i,a=n(0),o=n(1),c=n.n(o),r=n(16),d=n.n(r),l=n(17),h=n.n(l),u=(n(30),n(5)),s=n(3);n(31),n(32);!function(e){e.blue="#2e72b2",e.red="#ff6978",e.green="#8bb174",e.yellow="#fcaf58",e.brown="#bda79e"}(i||(i={}));var b=i,p=function(e){var t=e.buttonColor,n=e.text,i=e.onClick;return Object(a.jsx)(g,{buttonColor:t,onClick:i,children:n})},g=s.a.div.withConfig({displayName:"Button__ButtonWrapper",componentId:"kvn430-0"})(["display:inline-block;margin:10px;padding:5px 10px;border-radius:10px;user-select:none;cursor:pointer;background-color:",";color:",";"],(function(e){return e.buttonColor}),(function(e){var t=e.buttonColor;return t===b.blue||t===b.red||t===b.green?"white":"black"})),j=n(13),x=n.n(j),f=n(21),v=n(22),O=n.n(v);var w=function(e,t,n){var i=document.createElement("canvas"),a=e.naturalWidth/e.width,o=e.naturalHeight/e.height;i.width=t.width*a,i.height=t.height*o;var c=i.getContext("2d");return console.log({image:e,cropX:t.x*a,cropY:t.y*o,cropWidth:t.width*a,cropHeight:t.height*o,width:t.width,height:t.height}),c.drawImage(e,t.x*a,t.y*o,t.width*a,t.height*o,0,0,t.width*a,t.height*o),new Promise((function(e,t){i.toBlob((function(t){t.name=n,e(t)}),"image/jpeg",1)}))},m=function(e){var t=e.source,n=e.filename,i=e.dimensions,c=e.ratioWidth,r=e.ratioHeight,d=Object(o.useState)({}),l=Object(u.a)(d,2),h=l[0],s=l[1],g=Object(o.useState)({naturalWidth:0,naturalHeight:0,width:0,height:0}),j=Object(u.a)(g,2),v=j[0],m=j[1],A=Object(o.useRef)(null);return Object(o.useEffect)((function(){s((function(e){var t=v.width,n=v.height,i=c/r,a={aspect:i,width:0,height:0,x:0,y:0};return c>r&&(t>n&&(a.width=t,a.height=t/i),t<n&&(a.width=t,a.height=t/i),t===n&&(a.width=t,a.height=n/i)),c<r&&(t>n&&(a.width=n*i,a.height=n),t<n&&(a.width=n*i,a.height=n),t===n&&(a.width=t*i,a.height=n)),c===r&&(t>n&&(a.width=n,a.height=n),t<n&&(a.width=t,a.height=t),t===n&&(a.width=t,a.height=n)),((a.width||0)>t||((null===a||void 0===a?void 0:a.height)||0)>n)&&(a.width=a.width?a.width/2:0,a.height=a.height?a.height/2:0),a}))}),[i,n,v.height,v.width,r,c]),Object(a.jsxs)(C,{children:[Object(a.jsx)(O.a,{src:t,crop:h,onChange:function(e){console.log(e),s(e)},onImageLoaded:function(e){var t=e.naturalWidth,n=e.naturalHeight,i=e.width,a=e.height;A.current=e,m({naturalWidth:t,naturalHeight:n,width:i,height:a})}}),Object(a.jsx)("div",{children:n}),Object(a.jsxs)("div",{children:["Original Image: ",v.naturalWidth," x"," ",v.naturalHeight]}),Object(a.jsxs)("div",{children:["Preview: ",v.width," x ",v.height," ;",((v.width||1)/(v.height||1)).toFixed(2)]}),Object(a.jsxs)("div",{children:["Selection: ",h.width," x ",h.height," ;"," ",(((null===h||void 0===h?void 0:h.width)||1)/((null===h||void 0===h?void 0:h.height)||1)).toFixed(2)]}),Object(a.jsx)(p,{text:"Download",buttonColor:b.green,onClick:Object(f.a)(x.a.mark((function e(){var t,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A.current){e.next=9;break}return e.next=3,w(A.current,h,"equalized-".concat(n));case 3:t=e.sent,console.log(t),(i=document.createElement("a")).href=window.URL.createObjectURL(t),i.setAttribute("download","equalized-".concat(n)),i.click();case 9:case"end":return e.stop()}}),e)})))})]})},C=s.a.div.withConfig({displayName:"Picture__PictureWrapper",componentId:"sc-1laq5c1-0"})(["display:flex;flex-direction:column;width:30%;min-width:300px;align-items:center;margin:10px;border:solid 2px black;"]),A=function(e){var t=Object(o.useRef)(null),n=Object(o.useState)(null),i=Object(u.a)(n,2),c=i[0],r=i[1],d=Object(o.useState)([]),l=Object(u.a)(d,2),h=l[0],s=l[1],g=Object(o.useState)([]),j=Object(u.a)(g,2),x=j[0],f=j[1],v=Object(o.useState)([]),O=Object(u.a)(v,2),w=(O[0],O[1]),C=Object(o.useState)({}),A=Object(u.a)(C,2),P=A[0],E=A[1],R=Object(o.useState)(1),T=Object(u.a)(R,2),W=T[0],L=T[1],z=Object(o.useState)(1),D=Object(u.a)(z,2),N=D[0],H=D[1],U=Object(o.useState)(!1),q=Object(u.a)(U,2),F=q[0],B=q[1];return Object(a.jsxs)(I,{children:[Object(a.jsx)(y,{ref:t,multiple:!0,type:"file",onChange:function(e){E({}),r(e.currentTarget.files);var t=[],n=[],i=[];Array.from(e.currentTarget.files||[]).forEach((function(e){t.push(e),n.push(URL.createObjectURL(e));var a=new Image;a.src=URL.createObjectURL(e),console.log(e),a.onload=function(t){console.log(t),console.log(t.path[0].naturalWidth),console.log(t.path[0].naturalHeight),E((function(n){return n[e.name]={width:t.path[0].naturalWidth,height:t.path[0].naturalHeight},n}))},i.push(a)})),s(t),f(n),w(i)}}),Object(a.jsx)("div",{children:Object(a.jsx)(p,{buttonColor:b.yellow,text:"Upload Files",onClick:function(){var e;null===t||void 0===t||null===(e=t.current)||void 0===e||e.click()}})}),(null===c||void 0===c?void 0:c.length)?Object(a.jsxs)("div",{children:["Ratio:"," ",Object(a.jsxs)(_,{onChange:function(e){switch(console.log(e.target.value),e.target.value){case"1:1":L(1),H(1),B(!1);break;case"4:3":L(4),H(3),B(!1);break;case"16:10":L(16),H(10),B(!1);break;case"16:9":L(16),H(9),B(!1);break;case"2:1":L(2),H(1),B(!1);break;case"5:4":L(5),H(4),B(!1);break;case"3:2":L(3),H(2),B(!1);break;case"custom":B(!0)}},children:[Object(a.jsx)("option",{value:"1:1",children:"1:1 Square"}),Object(a.jsx)("option",{value:"4:3",children:"4:3 Standard"}),Object(a.jsx)("option",{value:"16:10",children:"16:10 Standard"}),Object(a.jsx)("option",{value:"16:9",children:"16:9 Standard"}),Object(a.jsx)("option",{value:"2:1",children:"2:1"}),Object(a.jsx)("option",{value:"5:4",children:"5:4"}),Object(a.jsx)("option",{value:"3:2",children:"3:2"}),Object(a.jsx)("option",{value:"custom",children:"Custom"})]}),(null===c||void 0===c?void 0:c.length)&&F?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k,{type:"number",min:"1",value:W,onChange:function(e){L(parseInt(e.target.value))}})," ",":"," ",Object(a.jsx)(k,{type:"number",min:"1",value:N,onChange:function(e){H(parseInt(e.target.value))}})]}):null]}):null,Object(a.jsx)(S,{children:null===h||void 0===h?void 0:h.map((function(e,t){return c?Object(a.jsx)(m,{source:x[t],filename:e.name,dimensions:P,ratioWidth:W,ratioHeight:N}):null}))})]})},I=s.a.div.withConfig({displayName:"Authenticated__Wrapper",componentId:"sc-16hiknc-0"})(["display:flex;flex-direction:column;align-items:center;"]),y=s.a.input.withConfig({displayName:"Authenticated__HidenInput",componentId:"sc-16hiknc-1"})(["display:none;"]),S=s.a.div.withConfig({displayName:"Authenticated__Preview",componentId:"sc-16hiknc-2"})(["display:flex;flex-direction:row;justify-content:space-evenly;flex-wrap:wrap;"]),_=s.a.select.withConfig({displayName:"Authenticated__StyledSelect",componentId:"sc-16hiknc-3"})(["background-color:",";padding:10px;border-radius:10px;margin:10px 20px 20px 0;box-shadow:none;border:none;"],b.yellow),k=s.a.input.withConfig({displayName:"Authenticated__StyledInput",componentId:"sc-16hiknc-4"})(["background-color:",";padding:10px;border-radius:10px;margin:10px 0 20px 0;width:75px;box-shadow:none;border:none;"],b.yellow),P=n(8);function E(){var e=Object(P.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return E=function(){return e},e}var R=function(){return Object(a.jsx)(T,{children:"Please log in to use this app"})},T=s.a.div(E()),W=n(7);function L(){var e=Object(P.a)(["\n  background-color: white;\n  padding: 2px 10px;\n  border: 3px solid black;\n\n  margin: 0 10px;\n"]);return L=function(){return e},e}function z(){var e=Object(P.a)(["\n  display: flex;\n  width: 100%;\n  height: 50px;\n  background-color: ",";\n  align-items: center;\n  justify-content: space-between;\n"]);return z=function(){return e},e}var D=function(e){var t=e.userId;return Object(a.jsxs)(N,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(H,{children:"IMAGE EQUALIZER"})}),Object(a.jsx)("div",{children:t?Object(a.jsx)(p,{text:"Log out",buttonColor:b.red,onClick:function(){W.a.auth().signOut()}}):Object(a.jsx)(p,{text:"Login",buttonColor:b.yellow,onClick:function(){if(W.a){var e=new W.a.auth.GoogleAuthProvider;W.a.auth().signInWithPopup(e)}}})})]})},N=s.a.div(z(),b.blue),H=s.a.div(L());n(37);console.log("-----\x3e",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyD5dtEhx880w1XCDKbPANXkIdLz26zv1ns",REACT_APP_AUTHDOMAIN:"image-equalizer.firebaseapp.com",REACT_APP_PROJECTID:"image-equalizer",REACT_APP_STORAGEBUCKET:"image-equalizer.appspot.com",REACT_APP_MESSAGINGSENDERID:"270301991498",REACT_APP_APPID:"1:270301991498:web:75a09edc39e3ff65068cb3",REACT_APP_MEASUREMENTID:"G-W86X6PLR9V"}));W.a.initializeApp({apiKey:"AIzaSyD5dtEhx880w1XCDKbPANXkIdLz26zv1ns",authDomain:"image-equalizer.firebaseapp.com",projectId:"image-equalizer",storageBucket:"image-equalizer.appspot.com",messagingSenderId:"270301991498",appId:"1:270301991498:web:75a09edc39e3ff65068cb3",measurementId:"G-W86X6PLR9V"});var U=W.a;var q=function(){var e=Object(o.useState)(""),t=Object(u.a)(e,2),n=t[0],i=t[1];return U.auth().onAuthStateChanged((function(e){i(null===e||void 0===e?void 0:e.uid)})),Object(a.jsxs)(F,{className:"App",children:[Object(a.jsx)(D,{userId:n}),n?Object(a.jsx)(A,{}):Object(a.jsx)(R,{})]})},F=s.a.div.withConfig({displayName:"App__AppWrapper",componentId:"sc-11ix0ex-0"})(["background-color:",';height:100vh;width:100vw;overflow:auto;display:flex;flex-direction:column;font-family:"IBM Plex Mono",monospace;'],b.brown),B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),o(e),c(e)}))};n(39);h.a.config(),d.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(q,{})}),document.getElementById("root")),B()}},[[40,1,2]]]);
//# sourceMappingURL=main.b5b16532.chunk.js.map